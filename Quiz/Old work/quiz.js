// const quizData = [
//   {
//     questionID: 101,
//     question:
//       '<p><span ><span ><span ><span ><span ><span >A current flows in a wire running between the S and N poles of a magnet lying horizontally as shown in the figure below:</span></span></span></span></span></span></p><p><span ><span ><span ><span ><span ><span >&nbsp;</span></span></span></span></span></span><img style="max-width: 100%; height: auto" src="https://d1sc0gy71qo6ev.cloudfront.net/45406262c34d2af82229f56989365f4euid-5.png" ><span ><span ><span ><span ><span ><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span></p><p><span ><span ><span ><span ><span ><span >The force on the wire due to the magnet is directed:</span></span></span></span></span></span></p>',
//     options: [
//       { option: "A", value: "Paris" },
//       { option: "B", value: "Berlin" },
//     ],
//     correctOptions: ["A"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 102,
//     question: "whats is 1+1'?",
//     options: [],
//     correctOptions: [2],
//     questionType: "numerical",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 103,
//     question: "What is the square root of 25?",
//     options: [],
//     correctOptions: [5],
//     questionType: "numerical",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 104,
//     question: "In which year did Christopher Columbus reach the Americas?",
//     // options: ["1492", "1607", "1776", "1498"],
//     options: [
//       { option: "A", value: "1492" },
//       { option: "B", value: "1607" },
//       { option: "C", value: "1776" },
//       { option: "D", value: "1498" },
//     ],
//     correctOptions: ["A"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 105,
//     question: "What is the largest mammal on Earth?",
//     // options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
//     options: [
//       { option: "A", value: "Elephant" },
//       { option: "B", value: "Blue Whale" },
//       { option: "C", value: "Giraffe" },
//       { option: "D", value: "Hippopotamus" },
//     ],
//     correctOptions: ["B"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 106,
//     question: "How many continents are there?",
//     options: [],
//     correctOptions: [7],
//     questionType: "numerical",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 107,
//     question: "Which of the following is a gas?",
//     // options: ["Water", "Oxygen", "Iron", "Salt"],
//     options: [
//       { option: "A", value: "Water" },
//       { option: "B", value: "Oxygen" },
//       { option: "C", value: "Iron" },
//       { option: "D", value: "Salt" },
//     ],
//     correctOptions: ["B"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 108,
//     question: "Who developed the theory of relativity?",
//     // options: ["Isaac Newton", "Galileo Galilei", "Albert Einstein", "Stephen Hawking"],
//     options: [
//       { option: "A", value: "Isaac Newton" },
//       { option: "B", value: "Galileo Galilei" },
//       { option: "C", value: "Albert Einstein" },
//       { option: "D", value: "Stephen Hawking" },
//     ],
//     correctOptions: ["C"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 109,
//     question: "What is the capital of Japan?",
//     // options: ["Beijing", "Seoul", "Tokyo", "Bangkok"],
//     options: [
//       { option: "A", value: "Beijing" },
//       { option: "B", value: "Seoul" },
//       { option: "C", value: "Tokyo" },
//       { option: "D", value: "Bangkok" },
//     ],
//     correctOptions: ["C"],
//     questionType: "smcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 110,
//     question: "Which colors are in the rainbow?",
//     // options: ["Red", "Orange", "Yellow", "Green"],
//     options: [
//       { option: "A", value: "Red" },
//       { option: "B", value: "Orange" },
//       { option: "C", value: "Yellow" },
//       { option: "D", value: "Green" },
//     ],
//     correctOptions: ["A", "C"],
//     questionType: "mmcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   {
//     questionID: 111,
//     question: "Which planet is known as the Red Planet?",
//     // options: ["Mars", "Jupiter", "Venus", "Saturn"],
//     options: [
//       { option: "A", value: "Mars" },
//       { option: "B", value: "Jupiter" },
//       { option: "C", value: "Venus" },
//       { option: "D", value: "Saturn" },
//     ],
//     correctOptions: ["A"],
//     questionType: "mmcq",
//     userSelectedOptions: [],
//     userSpentTime: 0,
//     marks: {
//       correct: 4,
//       inCorrect: 1,
//     },
//   },
//   // Add more questions as needed
// ];
// const quizData = {
//   title: "neet model",
//   totalDuration: 120,
//   remainingDuration: 111,
//   sections: [
//     {
//       title: "physics-A",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//     {
//       title: "physics-B",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//     {
//       title: "Chemistry-A",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//     {
//       title: "Chemistry-B",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//     {
//       title: "Maths-A",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//     {
//       title: "Maths-B",
//       data: [
//         {
//           questionID: 101,
//           question:
//             "<p>Which of the following is responsible for the increase in waste generation?</p>\r\n",
//           options: [
//             { option: "A", value: "<p>increase in population</p>" },
//             { option: "B", value: "<p>increase in urbanisation</p>" },
//             { option: "C", value: "<p>modern life</p>" },
//             { option: "D", value: "<p>all of these</p>" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Liquid waste disposal does not involve</span></span></span></span></p>\r\n",
//           options: [
//             {
//               option: "A",
//               value: "<p><span ><span >landfills</span></span></p> ",
//             },
//             {
//               option: "B",
//               value: "<p><span ><span >sewer lines</span></span></p>",
//             },
//             {
//               option: "C",
//               value: "<p><span ><span >septic tanks</span></span></p>",
//             },
//             {
//               option: "D",
//               value: "<p><span ><span >sewage plants</span></span></p>",
//             },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question:
//             "<p ><span ><span ><span ><span >Garbage can be used for</span></span></span></span></p>\r\n",
//           options: [
//             { option: "A", value: "generating electricity" },
//             { option: "B", value: "generating cooking gas" },
//             { option: "C", value: "producing compost" },
//             { option: "D", value: "all of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Find the odd one out",
//           options: [
//             { option: "A", value: "Cotton shirt" },
//             { option: "B", value: "Leather shoe" },
//             { option: "C", value: "Pen" },
//             { option: "D", value: "Paper" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "find the statement that is not true for plastics",
//           options: [
//             { option: "A", value: "Plastics are used in most of the articles" },
//             { option: "B", value: "Plastics are light and attractive" },
//             {
//               option: "C",
//               value: "Plastics can be burnt to dispose the waste",
//             },
//             { option: "D", value: "All of these" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//         {
//           questionID: 101,
//           question: "Which of the articles can be recycled and used again",
//           options: [
//             { option: "A", value: "Newspaper" },
//             { option: "B", value: "Bread" },
//             { option: "C", value: "Raincoat" },
//             { option: "D", value: "Plastic bags" },
//           ],
//           correctOptions: ["A"],
//           questionType: "smcq",
//           userSelectedOptions: [],
//           userSpentTime: 0,
//           marks: {
//             correct: 4,
//             inCorrect: 1,
//           },
//         },
//       ],
//     },
//   ],
// };
let quizData;
let currentQuestion = 0;
let totalQuestions;

let timer;
let timeLeft; // 60 seconds
let timeLeftSec;
let timerInterval; // Variable to store the setInterval reference
let hearBeatTimerValue = 0;
let heartBeatTimer;
let currentSection = 0;

let attendedCount;
let unAttendedCount;
let unAnsweredCount;
let totalCount;

function startTimer() {
  timer = setInterval(function () {
    timeLeftSec--;
    updateTimer();

    if (timeLeftSec === 0) {
      clearInterval(timer);
      alert("Time's up! Quiz has ended.");
      // You may want to handle the end of the quiz here
    }
  }, 1000);
}

function runHeartBeatTimer() {
  heartBeatTimer = setInterval(function () {
    hearBeatTimerValue++;
    sendHeartBeatData();
    // clearInterval(heartBeatTimer);
  }, 60000);
}

function sendHeartBeatData() {
  // console.log(hearBeatTimerValue);
}

function inputUpdate(inputValue) {
  if (inputValue.value.length == 0) {
    quizData.sections[currentSection].data[
      currentQuestion
    ].userSelectedOptions = [];
  } else {
    quizData.sections[currentSection].data[
      currentQuestion
    ].userSelectedOptions[0] = inputValue.value;
  }
  updateLegendCounts();
}

function updateTimer() {
  const timerDisplay = document.getElementById("left-time");
  const totalSeconds = timeLeftSec; // Convert 180 minutes to seconds

  // Calculate hours, minutes, and remaining seconds
  const hours = Math.floor(totalSeconds / 3600);
  const remainingSecondsAfterHours = totalSeconds % 3600;
  const minutes = Math.floor(remainingSecondsAfterHours / 60);
  const seconds = remainingSecondsAfterHours % 60;
  // Add leading zeros if necessary
  const formattedHours = hours < 10 ? `0${hours}` : hours;
  const formattedMinutes = minutes < 10 ? `0${minutes}` : minutes;
  const formattedSeconds = seconds < 10 ? `0${seconds}` : seconds;
  timerDisplay.innerText = `${formattedHours} Hr: ${formattedMinutes} Min: ${formattedSeconds} Sec`;
}

function selectOption(option, optedOption) {
  if (
    quizData.sections[currentSection].data[currentQuestion].questionType ==
    "smcq"
  ) {
    let optionsLi = document.querySelectorAll(".option");
    optionsLi.forEach((opt) => opt.classList.remove("selected"));

    option.classList.add("selected");
    quizData.sections[currentSection].data[
      currentQuestion
    ].userSelectedOptions[0] = optedOption;
  } else if (
    quizData.sections[currentSection].data[currentQuestion].questionType ==
    "mmcq"
  ) {
    option.classList.toggle("selected");
    const isSelected = option.classList.contains("selected");

    if (isSelected) {
      quizData.sections[currentSection].data[
        currentQuestion
      ].userSelectedOptions.push(optedOption);
    } else {
      const indexToRemove =
        quizData.sections[currentSection].data[
          currentQuestion
        ].userSelectedOptions.indexOf(optedOption);
      if (indexToRemove !== -1) {
        quizData.sections[currentSection].data[
          currentQuestion
        ].userSelectedOptions.splice(indexToRemove, 1);
      }
    }
  }
  displayQuestionPallete();
  updateLegendCounts();
}

function previousQuestion() {
  // saveUserSelectedOption();
  if (currentQuestion > 0) {
    currentQuestion--;
    updateQuestionArea();
    updateOptionArea();
    updateNumericalArea();
    displayQuestionPallete();
    updateLegendCounts();
  }
}

function updateCounter() {
  if (
    quizData.sections[currentSection].data[currentQuestion].userSelectedOptions
      .length > 0
  ) {
    attendedCount++;
  } else {
    currentQuestion--;
  }
}

function nextQuestion() {
  // console.log(currentQuestion);
  // console.log(quizData.sections[currentSection].data.length);
  // saveUserSelectedOption();
  if (currentQuestion < quizData.sections[currentSection].data.length - 1) {
    currentQuestion++;
    updateQuestionArea();
    updateOptionArea();
    updateNumericalArea();
    displayQuestionPallete();
    updateLegendCounts();
  }
}

function updateNumericalArea() {
  let numerical_input = document.getElementById("answer-input");
  // if (numerical_input != "undefined") {
  var options = document.getElementById("options");
  // console.log(options);
  // options.style.display = 'none';
  if (
    quizData.sections[currentSection].data[currentQuestion].questionType ==
    "numerical"
  ) {
    numerical_input.style.display = "block";
    options.style.display = "none";
    numerical_input.value =
      quizData.sections[currentSection].data[
        currentQuestion
      ].userSelectedOptions[0];
  } else {
    options.style.display = "block";
    numerical_input.style.display = "none";
  }
  // }
}

function clearSelection() {
  const options = document.querySelectorAll(".option");
  options.forEach((opt) => opt.classList.remove("selected"));
  unAnsweredCount++;
  attendedCount =
    attendedCount -
    quizData.sections[currentSection].data[currentQuestion].userSelectedOptions
      .length;
  quizData.sections[currentSection].data[currentQuestion].userSelectedOptions =
    [];
  updateLegendCounts();
}

function updateQuestionArea() {
  const questionText = document.getElementById("question");
  // console.log(questionText);
  const questionCounter = document.getElementById("question-counter");
  questionText.innerHTML =
    quizData.sections[currentSection].data[currentQuestion].question;
  questionCounter.innerHTML = `Q No: ${currentQuestion + 1}`;

  let options = document.getElementById("options");
  options.innerHTML = "";
  for (
    let i = 0;
    i < quizData.sections[currentSection].data[currentQuestion].options.length;
    i++
  ) {
    options.innerHTML +=
      '<li class="option" onclick="selectOption(this, \'' +
      quizData.sections[currentSection].data[currentQuestion].options[
        i
      ].option.toUpperCase() +
      "')\">" +
      quizData.sections[currentSection].data[currentQuestion].options[i].value +
      "</li>";
  }
}

function updateOptionArea() {
  const options = document.querySelectorAll(".option");
  const selectedOptions =
    quizData.sections[currentSection].data[currentQuestion].userSelectedOptions;

  options.forEach((opt, index) => {
    opt.classList.remove("selected");
    if (
      selectedOptions.includes(
        quizData.sections[currentSection].data[currentQuestion].options[index]
          .option
      )
    ) {
      opt.classList.add("selected");
    }
  });
}

function updateLegendCounts() {
  attendedCount = 0;
  unAnsweredCount = 0;
  unAttendedCount = 0;
  // console.clear();
  let i = 0;
  quizData.sections[currentSection].data.forEach((data) => {
    // console.log(pos);
    if (data.userSelectedOptions.length > 0) {
      attendedCount++;
    } else {
      if (i == currentQuestion) {
        unAnsweredCount++;
      }
      if (data.userSpentTime > 0) {
        // console.log(1);
        unAnsweredCount++;
      } else {
        unAttendedCount++;
        // console.log(2);
      }
    }
    i++;
  });
  const attendedLegend = document.querySelector(".attended");
  const unansweredLegend = document.querySelector(".unanswered");
  const unattendedLegend = document.querySelector(".unattended");
  // const totalLegend = document.querySelector(".total");

  attendedLegend.innerText = attendedCount;
  unansweredLegend.innerText = unAnsweredCount;
  unattendedLegend.innerText = unAttendedCount;
  // totalLegend.innerText = totalCount;
}

function displayQuestionPallete() {
  const questionPalleteArea = document.getElementById("question-pallete-area");
  questionPalleteArea.innerHTML = "";
  quizData.sections[currentSection].data.forEach((ele, count) => {
    if (ele.userSelectedOptions.length > 0) {
      questionPalleteArea.innerHTML += `<button class="pallete-btn pallete-btn-success" onclick="palleteBtnClick(${count})">${
        count + 1
      }</button>`;
    } else {
      if (count == currentQuestion) {
        questionPalleteArea.innerHTML += `<button class="pallete-btn pallete-btn-danger" onclick="palleteBtnClick(${count})">${
          count + 1
        }</button>`;
      } else if (ele.userSpentTime > 0) {
        questionPalleteArea.innerHTML += `<button class="pallete-btn pallete-btn-danger" onclick="palleteBtnClick(${count})">${
          count + 1
        }</button>`;
      } else {
        questionPalleteArea.innerHTML += `<button class="pallete-btn" onclick="palleteBtnClick(${count})">${
          count + 1
        }</button>`;
      }
    }
  });
}

function palleteBtnClick(pos) {
  // saveUserSelectedOption();
  currentQuestion = pos;
  updateQuestionArea();
  updateOptionArea();
  updateNumericalArea();
  displayQuestionPallete();
  updateLegendCounts();
}
function runQuestionTimer() {
  timerInterval = setInterval(function () {
    quizData.sections[currentSection].data[currentQuestion].userSpentTime++;
    // clearInterval(timerInterval);
    // // console.clear();
    // // console.table(quizData);
  }, 1000);
}
async function getExamData() {
  // setInterval(function () {
  //   startExam();
  // }, 5000);
  fetch("https://dreamthemonline.com/sample/getNewQuizData/600")
    .then((response) => {
      if (!response.ok) {
        throw new Error("Network response was not ok");
      }
      return response.json();
    })
    .then((data) => {
      console.log("Data:", data);
      quizData = data;
      totalQuestions = quizData.length;
      timeLeft = quizData.remainingDuration; // 60 seconds
      totalCount = quizData.sections[currentSection].data.length;
      timeLeftSec = timeLeft * 60;
      setInterval(() => {
        startExam();
      }, 5000);
    })
    .catch((error) => {
      console.error("Error fetching data:", error);
    });
}
function sectionBtnClick(pos) {
  console.log("clicked", pos);
  currentSection = pos;
  currentQuestion = 0;
  updateSectionArea();
  updateQuestionArea();
  updateOptionArea();
  updateNumericalArea();
  displayQuestionPallete();
  updateLegendCounts();
}

function updateSectionArea() {
  const questionPalleteArea = document.getElementById("section-header");
  questionPalleteArea.innerHTML = "";
  quizData.sections.forEach((ele, pos) => {
    console.log(pos);
    questionPalleteArea.innerHTML += `<button class="section-btn ${
      pos == currentSection ? "section-btn-active" : ""
    }" onclick="sectionBtnClick(${pos})">${
      quizData.sections[pos].title
    }</button>`;
  });
}

function startExam() {
  console.log(1);
  let loadingContainer = document.getElementById("loading-container");
  let sectionHeader = document.getElementById("section-header");
  let mainContainer = document.getElementById("main-container");
  loadingContainer.style.display = "none";
  mainContainer.style.display = "flex";
  sectionHeader.style.display = "block";
  // Initial setup
  updateSectionArea();
  updateQuestionArea();
  updateOptionArea();
  updateNumericalArea();
  displayQuestionPallete();
  updateLegendCounts();
  updateTimer();
  runQuestionTimer();
  startTimer();
  runHeartBeatTimer();
}
getExamData();
